# ðŸ Python Project Template designed for [astral](https://astral.sh/) ecosystem

This repository provides a [**Cookiecutter**](https://cookiecutter.readthedocs.io/en/stable/) template designed for creating consistent and modern Python project structures. It is tailored to projects using the [**Astral**](https://astral.sh/) tooling ecosystem, namely:

- [**uv**](https://astral.sh/blog/introducing-uv/) â€“ a fast Python package manager and workflow tool
- [**ruff**](https://docs.astral.sh/ruff/) â€“ an extremely fast Python linter and formatter
- Future integration planned with [**ty**](https://github.com/astral-sh/ty).

---

## Dependencies

Before using the template, make sure you have the following installed:

- [**Python**](https://www.python.org/downloads/) version **3.10 or higher**
- [**Cookiecutter**](https://cookiecutter.readthedocs.io/en/stable/installation.html)

---

# Getting Started

## Installing the Template

To use this template, generate a new project by invoking [Cookiecutter](https://cookiecutter.readthedocs.io/en/stable/) with the templateâ€™s GitHub URL.

### Standard Installation

```bash
cookiecutter https://github.com/arnaudguibbert/python-template.git
```

Youâ€™ll be prompted to enter several configuration options such as project_name, project_dir, and others. For a complete list of inputs, refer to the [Template inputs](#template-inputs) section.

### Installing a Specific Version

To use a tagged release version of the template:

```bash
cookiecutter https://github.com/arnaudguibbert/python-template.git --checkout v0.1.0
```

## Working with the Template

### Project Structure

If you're unfamiliar with the standard Python project layout or are using this template for the first time, we recommend reading the [Structure Documentation](./docs/structure.md). It provides a detailed explanation of each file generated by the template and how to use them effectively.

### Makefile Commands

The template includes a `Makefile` with several predefined commands that streamline common development workflows, including:

- Installing python environment and dependencies using [uv](https://astral.sh/blog/introducing-uv/)
- Linting code with [Ruff](https://docs.astral.sh/ruff/)
- Type checking code with 
- Running test suite

> [!IMPORTANT]
> We highly recommend to use make commands when possible to ensure consistency and security.

Consult this [Makefile section](./docs/structure.md#makefiles) to get more details on make targets available.

> [!NOTE]
> All make commands should be run from the root directory of your python project.

### Common Operations

Once your project is set up, youâ€™ll frequently perform a set of standard operations. This section describes how to carry out those tasks efficiently using the included `Makefile` commands and `uv`.

---

#### ðŸ Set Up Your Python Environment

Set up your Python virtual environment and install the main dependencies:

```
make env-setup
```

To install development dependencies as well (e.g., for testing, linting, formatting), use:

```
make env-setup-dev
```

> [!TIP]
> This uses `uv venv` under the hood to ensure fast and isolated environments.

---

#### ðŸ“¦ Manage Dependencies with `uv`

Adding a new package (e.g., `fastapi`):

```
uv add fastapi
```

Specifying a version using [semantic versioning](https://masterminds.github.io/sprig/semver.html):

```
uv add fastapi~=0.100.1
```

Removing an unused package:

```
uv remove fastapi
```

> [!NOTE]
> Dependency changes will automatically update your `pyproject.toml` and `uv.lock` files.

---

#### ðŸ§¹ Format Code

Run Ruff to automatically format your Python code:

```
make py-format
```

---

#### ðŸ•µï¸â€â™€ï¸ Lint Your Code

Run static checks and enforce code style using Ruff:

```
make py-lint
```

To additionally lint your docstrings:

```
make py-doclint
```

---

#### ðŸ§  Type Checking

Check for type errors using static analysis (via `mypy`):

```
make py-analyze
```

---

#### ðŸ§ª Run Unit Tests

Execute your test suite with:

```
make py-unit-test
```

> [!NOTE]
> Tests are expected to be located in the `tests/` directory, and should follow the standard `pytest` conventions.

---

All `make` commands must be run from the **root directory** of your Python project to function correctly.


# Template Inputs

When you execute `cookiecutter`, youâ€™ll be prompted to fill in the following inputs:

| Input           | Description                                                                                   | Default | Type | Required |
|----------------|-----------------------------------------------------------------------------------------------|---------|----------|----------|
| `project_name`  | The name of your Python package or library. Appears in source code and configuration files. | `null`  | string | Yes |
| `project_dir`   | The name of the directory where the project will be generated. Typically matches `project_name`. | `null`  | string | Yes |
| `description`   | A short description of your project. Added to the `README.md` and `pyproject.toml`. | `null`  | string | Yes |
| `include_gh_cicd` | Whether of not to include the Github CICD files (build and push (soon) workflows) | `False` | boolean | No |
| `include_vscode` | Whether of not to include the vscode settings for this project (`.vscode` folder) | `False` | boolean | No |

---

# References

- [Python (official documentation)](https://docs.python.org/3/)
- [Cookiecutter](https://cookiecutter.readthedocs.io/en/stable/)
- [uv by Astral](https://astral.sh/blog/introducing-uv/)
- [ruff by Astral](https://docs.astral.sh/ruff/)
- [mypy](https://mypy-lang.org/)
- [ty (planned)](https://github.com/astral-sh/ty)

